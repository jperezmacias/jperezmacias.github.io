<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Description">
  <meta name="author" content="Ariana de La Cuesta de Diego y Jose Maria Perez-Macias">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#101010" media="(prefers-color-scheme: dark)">
  

  <title>Sistemas basados en HRTF ¬∑ Ingenieria de Ondas</title>
  <link rel="canonical" href="../../docs/sistemas-hrtf/">
  <link rel="stylesheet" href="../../assets/css/docs.min.55e8a7678e986f6333c09fb6a81696af67711e98d72db2cb245352b002d5c4c8.css" integrity="">

  <link rel="manifest" href="../../manifest.json">
<link rel="icon" href="../../favicon/favicon.ico">
<link rel="icon" href="../../favicon/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="icon" href="../../favicon/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="apple-touch-icon" href="../../favicon/apple-touch-icon.png" sizes="180x180">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-XXXXXXXXXX');
</script>
</head>

<body>

<div id="outer-wrapper">

  <div id="aside-wrapper">
    <aside>
      <div>
        <button class="btn"><i>‚ùå</i>Close</button>
      </div>
      <a href="../../" class="site-logo">Ingenieria de Ondas</a>

      <nav role="navigation">
        <details open>
          <summary>Overview</summary>
          <ul><li>
              
                
                <a class="" href="../../docs/inicio/">
                  
                  Inicio
                  
                </a>
              
            </li><li>
              
                
                <a class="" href="../../docs/generalintroduccion/">
                  
                  GeneralIntroduccion
                  
                </a>
              
            </li>

          </ul>
        </details><details open>
          <summary>Csound</summary>
          <ul><li>
              
                
                <a class="" href="../../docs/csound/">
                  
                  Csound
                  
                </a>
              
            </li><li>
              
                
                <a class="" href="../../docs/funciones/">
                  
                  Funciones
                  
                </a>
              
            </li><li>
              
                
                <a class="" href="../../docs/ejemplos/">
                  
                  Ejemplos
                  
                </a>
              
            </li>

          </ul>
        </details><details open>
          <summary>Ecos y Reverberacion</summary>
          <ul><li>
              
                
                <a class="" href="../../docs/ecos-y-rev/">
                  
                  Ecos y Rev
                  
                </a>
              
            </li>

          </ul>
        </details><details open>
          <summary>Sonido 3D</summary>
          <ul><li>
              
                
                <a class="" href="../../docs/sonido-3d-introduccion/">
                  
                  Sonido 3D Introduccion
                  
                </a>
              
            </li><li>
              
                
                <a class="" href="../../docs/audio-espacial/">
                  
                  Audio Espacial
                  
                </a>
              
            </li><li>
              
                
                <a class="" href="../../docs/coordenadas/">
                  
                  Coordenadas
                  
                </a>
              
            </li><li>
              
                
                <a class="" href="../../docs/sistemas-de-audio/">
                  
                  Sistemas de Audio
                  
                </a>
              
            </li><li>
              
                
                <a class="" href="../../docs/hrtf/">
                  
                  HRTF
                  
                </a>
              
            </li><li>
              
                
                <a class="active" href="../../docs/sistemas-hrtf/">
                  
                  Sistemas HRTF
                  
                </a>
              
            </li><li>
              
                
                <a class="" href="../../docs/implementacion/">
                  
                  Implementacion
                  
                </a>
              
            </li>

          </ul>
        </details><details open>
          <summary>Ejemplos Csound</summary>
          <ul><li>
              
                
                <a class="" href="../../docs/ejemplos-csound/">
                  
                  Ejemplos Csound
                  
                </a>
              
            </li>

          </ul>
        </details><details open>
          <summary>Bibliografia</summary>
          <ul><li>
              
                
                <a class="" href="../../docs/bibliografia/">
                  
                  Bibliografia
                  
                </a>
              
            </li>

          </ul>
        </details>
      </nav>
    </aside>
  </div>

  <div id="content-wrapper">
    <header>
      <a href="../../" class="site-logo">Ingenieria de Ondas</a>
    </header>

    <main>
      <article>
        <nav>
          <button class="btn"><i>‚¨ÖÔ∏è</i> On this section</button>
          <button class="btn">On this page <i>‚û°Ô∏è</i></button>
        </nav>
        <header>
          <h1>Sistemas basados en HRTF</h1>
          <p></p>
        </header>
        <div id="article-body">
          <h1 id="45-sistemas-basados-en-hrtf">4.5. Sistemas basados en HRTF</h1>
<p>Los sistemas basados en las funciones de transferencia HRTF son capaces de simular elevaci√≥n, distancia y azimut. Esto significa que, al menos en principio, pueden crear la impresi√≥n de un sistema en 3D. En la pr√°ctica, es m√°s sencillo controlar el azimut que la elevaci√≥n y la distancia debido a las diferencias entre las personas y las limitaciones computacionales. A√∫n as√≠, los sistemas basados en HRTF est√°n convirti√©ndose en un est√°ndar para sistemas avanzados de 3D.</p>
<p>Hacemos una peque√±a descripci√≥n del &ldquo;Convolotron&rdquo;, un conocido sistema 3D desarrollado por la NASA. Describiremos algunas caracter√≠sticas y terminaremos con distintos modelos HRTF elaborados.</p>
<ul>
<li>El Convolvotron</li>
<li>Auriculares versus Altavoces</li>
<li>La necesidad de posicionar la cabeza</li>
<li>Versiones modeladas y experimentales de HRTF&rsquo;s</li>
<li>Modelos para HRTF&rsquo;s</li>
</ul>
<p><img alt="Measuring the HRTF of a KEMAR manikin" src="../../Imagenes/image020.jpg"></p>
<h2 id="el-convolotr√≥n">El Convolotr√≥n</h2>
<p><img alt="Convolotron" src="../../Imagenes/hrtf_clip_image001.gif"></p>
<p>El Convolotron, manufacturado por Cristal River Engineering, es una forma sencilla de usar HRTF para el audio espacial. Consiste en dos convolucionadores, cada uno de los cuales convoluciona una misma se√±al de audio con una respuesta al impulso discreta de la cabeza (Head-related impulse response - HRIR) tomada de una tabla de valores previamente medidos. La salida va directamente a los auriculares del usuario.</p>
<p>Si la HRIR es lo suficientemente parecida a la del usuario, obtendremos resultados aceptables. La idea b√°sica de funcionamiento es:</p>
<ul>
<li>Podemos recrear muchas fuentes haciendo lo mismo para cada fuente.</li>
<li>Podemos tener en cuenta el movimiento de la cabeza, monitorizando su posici√≥n y modificando las HRIR seg√∫n la misma, dando as√≠ la sensaci√≥n de que el usuario se mueve en un ambiente 3D.</li>
<li>Las tablas pueden crearse considerando solo los par√°metros de azimut y elevaci√≥n, dejando la distancia de la fuente para utilizar efectos de rango/amplitud.</li>
<li>El n√∫mero de HRIR almacenados previamente puede reducirse analizando funciones HRIR cr√≠ticas en el espacio y luego interpolando para hallar el resto.</li>
<li>Los ecos y la reverberaci√≥n de la habitaci√≥n se pueden a√±adir con un modelo simulado de una habitaci√≥n.</li>
<li>El sistema puede personalizarse para un individuo particular usando sus funciones HRIR.</li>
</ul>
<p>No importa c√≥mo implementemos el esquema, la idea principal es generar se√±ales adecuadas para ambas orejas con una convoluci√≥n en tiempo real de la se√±al original monoaural, utilizando tablas de respuesta al impulso (HRIR).</p>
<h2 id="auriculares-vs-altavoces">Auriculares vs Altavoces</h2>
<p>Los auriculares simplifican el problema de enviar distintas se√±ales a cada o√≠do, pero presentan inconvenientes, especialmente en realidad virtual:</p>
<ul>
<li>A muchas personas no les gustan los auriculares, son inc√≥modos incluso si son inal√°mbricos. Los mejores (ac√∫sticamente) son inc√≥modos para llevar durante largos per√≠odos y a√≠slan socialmente al usuario.</li>
<li>La respuesta en frecuencia de los auriculares puede tener picos y cortes que se asemejan a las respuestas del pabell√≥n auditivo. Estos efectos, si no se compensan, pueden dar problemas en los par√°metros de elevaci√≥n.</li>
<li>Los sonidos en los auriculares dan la impresi√≥n de estar demasiado cerca. Adem√°s, los efectos utilizados para dar localizaci√≥n del sonido son muy sensibles a la posici√≥n del auricular.</li>
</ul>
<p>Los altavoces resuelven muchos de estos problemas, pero no est√° claro c√≥mo dar un sonido binaural. Una soluci√≥n es una t√©cnica llamada cross-talk-cancelled stereo (o transaural stereo).</p>
<p><img alt="Cross-talk cancelled stereo" src="../../Imagenes/hrtf_clip_image002.gif"></p>
<p>La idea b√°sica se ve bien en el dominio de la frecuencia. En la figura de arriba se ven las se√±ales S1 y S2 que salen de los altavoces. La se√±al Y1 que alcanza la oreja izquierda es una mezcla de S1 y el &ldquo;crosstalk&rdquo; de S2. As√≠, Y1 = H11 S1 + H12 S2, donde H11 es la HRTF entre el altavoz izquierdo y la oreja izquierda, y H12 es la HRTF entre el altavoz derecho y la oreja izquierda. Similarmente, Y2 = H21 S1 + H22 S2. Si pudi√©ramos usar auriculares, podr√≠amos obtener Y1 y Y2, que son las se√±ales recibidas en los dos o√≠dos respectivamente. El problema es encontrar las se√±ales apropiadas S1 y S2 que nos dan los resultados deseados. Esto matem√°ticamente es bastante sencillo: simplemente invertimos las ecuaciones:</p>
<p><img alt="Matrix inversion illustration" src="../../Imagenes/hrtf_clip_image003.gif"></p>
<h3 id="en-la-pr√°ctica-invertir-las-matrices-no-es-tan-sencillo">En la pr√°ctica, invertir las matrices no es tan sencillo:</h3>
<ul>
<li>A frecuencias bajas, todas las funciones de transferencia son pr√°cticamente id√©nticas, y por lo tanto la matriz es singular (el determinante es cero). Afortunadamente, en recintos reverberantes, la informaci√≥n de baja frecuencia no es muy importante para la localizaci√≥n.</li>
<li>Una soluci√≥n exacta produce una respuesta al impulso muy larga. Este problema es notable cuanto m√°s alejada est√© la fuente respecto al punto medio entre los dos altavoces.</li>
<li>El resultado depende de la posici√≥n relativa del usuario con respecto a los altavoces. Los resultados √≥ptimos se obtienen en un punto llamado &ldquo;sweet spot&rdquo;, que es la posici√≥n asumida cuando se invierten las ecuaciones anteriores.</li>
</ul>
<p>Si se hace bien, la t√©cnica &ldquo;crosstalk-cancelled stereo&rdquo; puede ser muy efectiva, consiguiendo variar tanto el azimut como la elevaci√≥n. La fuente puede situarse fuera de la l√≠nea que une los dos altavoces.</p>
<h2 id="registro-de-la-posici√≥n-de-la-cabeza">Registro de la posici√≥n de la cabeza</h2>
<p>Cuando utilizamos auriculares, si el usuario se mueve o mueve la cabeza, las se√±ales enviadas a los auriculares no var√≠an, produciendo la sensaci√≥n de que la fuente de sonido se mueve con el usuario. Esto no se puede dar en aplicaciones de realidad virtual. Adem√°s, algunos efectos espaciales son debilitados o anulados. Esto es un problema, especialmente para fuentes que se suponen directamente enfrente o detr√°s del usuario, ya que la velocidad de variaci√≥n de las variables es mucho m√°s r√°pida en esas direcciones. Un resultado t√≠pico es que las fuentes aparezcan demasiado cerca o incluso den la impresi√≥n de que se originan en la cabeza.</p>
<p>Una soluci√≥n posible es usar un dispositivo que registre la posici√≥n relativa de la cabeza con respecto a las fuentes (<em>head tracker</em>) y lo haga peri√≥dicamente, variando las HRIR seg√∫n los datos obtenidos. En este sentido, al dise√±ar, adem√°s del coste, fiabilidad y precisi√≥n, deben considerarse otros dos aspectos:</p>
<ul>
<li><strong>Retardo permitido (Allowable latency)</strong>. El retardo es el tiempo entre el movimiento y cuando se utiliza la HRIR corregida. La experiencia indica que deber√≠a ser como m√°ximo de 50 ms.</li>
<li><strong>Transiciones inadecuadas (Unwanted transients)</strong>. Al cambiar las HRIR por otras m√°s adecuadas, pueden escucharse &ldquo;clicks&rdquo;. Es deseable una transici√≥n suave en estos casos.</li>
</ul>
<h2 id="versiones-modeladas-y-experimentales-de-hrtfs">Versiones modeladas y experimentales de HRTF&rsquo;s</h2>
<p>Debido a que las funciones HRTF son complejas, la mayor√≠a de los sistemas desarrollados han dependido de funciones medidas experimentalmente con el KEMAR. Sin embargo, los efectos de elevaci√≥n y de azimut son particularmente sensibles a las diferencias individuales. Han surgido cuatro aproximaciones diferentes para estas funciones:</p>
<ol>
<li><strong>Usar una HRTF est√°ndar</strong>. Esto da resultados pobres en un porcentaje de la poblaci√≥n, pero es el √∫nico sistema pr√°ctico para productos baratos. Actualmente, ni el IEEE, ni ACM o la AES han definido un est√°ndar HRTF, pero parece que una compa√±√≠a como Microsoft o Intel crear√° uno.</li>
<li><strong>Usar un set de HRTF&rsquo;s est√°ndar</strong>. Esto requiere medir HRTF&rsquo;s para un grupo peque√±o de personas que representen distintos modelos de la poblaci√≥n, facilitando as√≠ la selecci√≥n del usuario m√°s adecuado. Hasta la fecha, no existe.</li>
<li><strong>Usar una HRTF individualizada</strong>. Esto requiere medir la HRTF del usuario, lo que conlleva un considerable tiempo de uso. Aunque es engorroso y probablemente no viable, es el que mejores resultados ofrece.</li>
<li><strong>Usar un modelo HRTF que contenga par√°metros adaptables</strong>. Para estos modelos se sugiere consultar la bibliograf√≠a, ya que es un tema extenso y se sale del prop√≥sito de este trabajo.</li>
</ol>

        </div>

        <footer>
          

          
          
          
          

          
          
          
          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          

          
          
          
          

          <time datetime="0001-01-01"><i>üïí</i> Updated: 0001-01-01</time>
          
          <a href="../../docs/hrtf/"><i>Ôπ§</i> Previous</a>
          

          
          <a href="../../docs/implementacion/">Next <i>Ôπ•</i></a>
          

        </footer>
      </article>

      <aside>
        <div>
          <button class="btn"><i>‚ùå</i>Close</button>
        </div>
        <strong>On this page</strong>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#el-convolotr√≥n">El Convolotr√≥n</a></li>
    <li><a href="#auriculares-vs-altavoces">Auriculares vs Altavoces</a>
      <ul>
        <li><a href="#en-la-pr√°ctica-invertir-las-matrices-no-es-tan-sencillo">En la pr√°ctica, invertir las matrices no es tan sencillo:</a></li>
      </ul>
    </li>
    <li><a href="#registro-de-la-posici√≥n-de-la-cabeza">Registro de la posici√≥n de la cabeza</a></li>
    <li><a href="#versiones-modeladas-y-experimentales-de-hrtfs">Versiones modeladas y experimentales de HRTF&rsquo;s</a></li>
  </ul>
</nav>
      </aside>
    </main>

    <footer>
      <div><i>üßë‚Äçüíª</i>Built by and copyright<a href="https://github.com/repo" target="_blank">Ariana de La Cuesta de Diego y Jose Maria Perez-Macias</a><i>üìÖ</i> 2004-2024<i>üöÄ</i> <a href="https://github.com/repo" target="_blank">GitHub</a></div>
      <div>
        <button class="btn"><i>‚òÄÔ∏è</i><i>‚ÅÑ</i><i>üåë</i></button>
      </div>
    </footer>
  </div>

</div>

<div id="body-model-outer"></div>
<script type="text/javascript" src="../../assets/js/docs.min.12ffdc25c0149ef34e761ee54587f2aae17affcb8375298ad2180851930cb142.js" integrity=""></script>
</body>
</html>